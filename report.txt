# گزارش پروژه پخش کننده موسیقی اندروید

## مقدمه
این پروژه یک اپلیکیشن پخش کننده موسیقی ساده تحت اندروید است که با استفاده از فناوری‌های مدرن توسعه داده شده است. این اپلیکیشن قادر است فایل‌های موسیقی موجود در دستگاه را شناسایی کرده و آن‌ها را پخش کند.

## فناوری‌های استفاده شده
- **زبان برنامه نویسی**: Kotlin
- **چارچوب UI**: Jetpack Compose
- **الگوی معماری**: MVVM (Model-View-ViewModel)
- **سیستم عامل هدف**: Android

## ساختار پروژه

### 1. مدل داده (Data Model)
**فایل**: `MusicFile.kt`
- این کلاس ساختار داده هر فایل موسیقی را تعریف می‌کند
- شامل فیلدهایی مانند: شناسه، عنوان، خواننده، آلبوم، مدت زمان، مسیر فایل و نام نمایشی

### 2. سرویس پخش موسیقی (Music Service)
**فایل**: `MusicService.kt`
- یک سرویس پس زمینه برای مدیریت پخش موسیقی
- شامل امکانات:
  - پخش/مکث/بعدی/قبلی
  - حالت تکرار (Loop)
  - حالت تصادفی (Shuffle)
  - جستجو در موسیقی
  - مدیریت وضعیت پخش

### 3. اسکنر موسیقی (Music Scanner)
**فایل**: `MusicScanner.kt`
- کلاس ابزاری برای اسکن و یافتن فایل‌های موسیقی در دستگاه
- استفاده از ContentResolver برای دسترسی به فایل‌های رسانه‌ای
- فیلتر کردن فایل‌های موسیقی از سایر فایل‌ها

### 4. مدیریت وضعیت (ViewModel)
**فایل**: `MusicViewModel.kt`
- مدیریت وضعیت اپلیکیشن
- اتصال به سرویس پخش موسیقی
- مدیریت وضعیت پخش، موقعیت فعلی، مدت کل و غیره
- ارتباط بین UI و سرویس

### 5. رابط کاربری (UI)
**فایل**: `MusicPlayerScreen.kt`
- صفحه اصلی اپلیکیشن
- شامل کنترل‌های پخش موسیقی
- نمایش لیست موسیقی‌ها
- نمایش اطلاعات موسیقی فعلی
- نوار پیشرفت و زمان

### 6. تنظیمات تم (Theme)
**فایل‌های**: `Color.kt`, `Type.kt`, `Theme.kt`
- تعریف رنگ‌ها، فونت‌ها و استایل‌های اپلیکیشن
- تم تاریک با گرادیان قرمز

### 7. فعالیت اصلی (Main Activity)
**فایل**: `MainActivity.kt`
- فعالیت اصلی اپلیکیشن
- مدیریت مجوزهای لازم
- شروع سرویس پخش موسیقی
- نمایش رابط کاربری

## ویژگی‌های اصلی

### 1. پخش موسیقی
- پخش، مکث، بعدی، قبلی
- نمایش اطلاعات موسیقی (عنوان، خواننده)
- نوار پیشرفت با نمایش زمان فعلی و کل

### 2. کنترل‌های پیشرفته
- حالت تکرار (Loop)
- حالت تصادفی (Shuffle)
- امکان جستجو در موسیقی

### 3. رابط کاربری
- طراحی مدرن با Jetpack Compose
- تم تاریک با گرادیان قرمز
- لیست موسیقی‌ها با طراحی کارتی
- کنترل‌های پخش با طراحی زیبا

### 4. مدیریت مجوزها
- مجوز خواندن فایل‌های رسانه‌ای
- سازگاری با نسخه‌های مختلف اندروید

## معماری پروژه

### الگوی MVVM
- **Model**: کلاس‌های داده و سرویس‌ها
- **View**: Jetpack Compose UI
- **ViewModel**: مدیریت وضعیت و اتصال بین View و Model

### مدیریت وضعیت
- استفاده از State و MutableState برای مدیریت وضعیت در Compose
- اتصال به سرویس پس زمینه برای مدیریت پخش

## امنیت و مجوزها
- مجوز خواندن فایل‌های رسانه‌ای
- مدیریت مجوزهای API 33+ (READ_MEDIA_AUDIO)
- استفاده از ActivityResultLauncher برای مدیریت مجوزها

## ویژگی‌های طراحی
- طراحی واکنش‌گرا با Jetpack Compose
- تم تاریک با گرادیان قرمز
- استفاده از Material Design
- طراحی سازگار با تمام اندازه‌های صفحه نمایش

## عملکرد و بهینه‌سازی
- اسکن بهینه فایل‌های موسیقی
- مدیریت صحیح چرخه حیات (Lifecycle)
- استفاده از سرویس پس زمینه برای پخش مداوم
- مدیریت صحیح منابع و جلوگیری از نشت حافظه

## نتیجه‌گیری
این پروژه نمونه‌ای کامل از یک اپلیکیشن مدرن اندروید با استفاده از بهترین شیوه‌های توسعه است. اپلیکیشن دارای رابط کاربری زیبا، عملکرد پایدار و معماری مناسب برای توسعه بیشتر است. تمام ویژگی‌های درخواستی مانند پخش موسیقی، حالت تکرار، حالت تصادفی، نمایش زمان و طراحی زیبا پیاده‌سازی شده‌اند.